<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <title>ECOURSES - Online Courses HTML Template</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">
    <!-- Favicon -->
    <link th:href="@{/img/favicon.ico}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" th:href="@{https://fonts.gstatic.com}">
    <link th:href="@{https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap}"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css}" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link th:href="@{/lib/owlcarousel/assets/owl.carousel.min.css}" rel="stylesheet">
    <!-- Thêm thư viện Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular-cookies.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.2/html2canvas.min.js"></script>


    <!-- Customized Bootstrap Stylesheet -->
    <link th:href="@{/css/style.css}" rel="stylesheet">
    <style>
        .chapter-content {
            display: none;
        }
    </style>
</head>

<body ng-app="detail-app" ng-controller="detail-controller">
    <!-- Topbar Start -->
    <div class="container-fluid d-none d-lg-block">
        <div class="row align-items-center py-4 px-xl-5">
            <div class="col-lg-3">
                <a href="" class="text-decoration-none">
                    <h1 class="m-0">
                        <span class="text-primary">Poly</span>Academy
                    </h1>
                </a>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-map-marker-alt text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Văn phòng của chúng
                            tôi</h6>
                        <small>22 Thường Thạnh, Cái Răng, Cần Thơ</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-envelope text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Email của chúng tôi</h6>
                        <small>PolyAcademy@fpt.edu.vn</small>
                    </div>
                </div>
            </div>
            <div class="col-lg-3 text-right">
                <div class="d-inline-flex align-items-center">
                    <i class="fa fa-2x fa-phone text-primary mr-3"></i>
                    <div class="text-left">
                        <h6 class="font-weight-semi-bold mb-1">Gọi cho chúng tôi</h6>
                        <small>+012 345 6789</small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Topbar End -->
    <!-- Navbar Start -->
    <div class="container-fluid">
        <div class="row border-top px-xl-5">
            <div class="col-lg-3 d-none d-lg-block">
                <a class="d-flex align-items-center justify-content-between bg-secondary w-100 text-decoration-none"
                    data-toggle="collapse" href="#navbar-vertical" style="height: 67px; padding: 0 30px;">
                    <h5 class="text-primary m-0">
                        <i class="fa fa-book-open mr-2"></i>Danh mục khoá học
                    </h5> <i class="fa fa-angle-down text-primary"></i>
                </a>
                <nav class="collapse position-absolute navbar navbar-vertical navbar-light align-items-start p-0 border border-top-0 border-bottom-0 bg-light"
                    id="navbar-vertical" style="width: calc(100% - 30px); z-index: 9;">
                    <div class="navbar-nav w-100">
                        <div class="nav-item dropdown">
                            <a href="#" class="nav-link" data-toggle="dropdown">Ứng dụng phần mềm<i
                                    class="fa fa-angle-down float-right mt-1"></i>
                            </a>
                            <div class="dropdown-menu position-absolute bg-secondary border-0 rounded-0 w-100 m-0">
                                <a href="detail" class="dropdown-item">HTML</a> <a href="detail"
                                    class="dropdown-item">CSS</a> <a href="detail" class="dropdown-item">JavaScript</a>
                            </div>
                        </div>
                        <a href="detail" class="nav-item nav-link active">Lập trình Web</a> <a href="detail"
                            class="nav-item nav-link active"></a>Cơ khí</a> <a href="detail"
                            class="nav-item nav-link active">Marketing</a>
                        <a href="detail" class="nav-item nav-link active">Nhà hàng - Khách sạn</a>
                    </div>
                </nav>
            </div>
            <div class="col-lg-9">
                <nav class="navbar navbar-expand-lg bg-light navbar-light py-3 py-lg-0 px-0">
                    <a href="" class="text-decoration-none d-block d-lg-none">
                        <h1 class="m-0">
                            <span class="text-primary">Poly</span>Academy
                        </h1>
                    </a>
                    <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbarCollapse">
                        <span class="navbar-toggler-icon"></span>
                    </button>
                    <div class="collapse navbar-collapse justify-content-between" id="navbarCollapse">
                        <div class="navbar-nav py-0">
                            <a href="/courseOnline/index" class="nav-item nav-link active ">Trang
                                chủ</a> <a href="/courseOnline/course" class="nav-item nav-link ">Khoá
                                học</a>
                            <div class="nav-item dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">Trang</a>
                                <div class="dropdown-menu bg-primary rounded-0 border-0 m-0">
                                    <a href="contact" class="dropdown-item">Đăng ký nhà sáng tạo</a>

                                    <a href="uploademo" class="dropdown-item">Đăng khoá học1</a>
                                    <a href="mucluc" class="dropdown-item">Mục lục</a>
                                </div>
                            </div>
                        </div>
                        <ul class="navbar-nav">
                            <li th:if="${session.user} == null" class="nav-item"><a class="nav-link"
                                    href="/courseOnline/dangnhap">Đăng nhập</a></li>
                            <li th:if="${session.user} == null" class="nav-item"><a class="nav-link"
                                    href="/courseOnline/dangky">Đăng ký</a></li>

                            <li th:if="${session.user} == null" class="nav-item"> <input hidden type="text" id="idLogin"
                                    value="null">

                        </ul>
                        <div class="nav-item dropdown" th:if="${session.user != null}">
                            <input type="text" id="idLogin" hidden th:value="${session.user.id}">

                            <style>
                                /* Tùy chỉnh CSS cho menu dropdown "Tài Khoản" */
                                .dropdown-menu {
                                    position: absolute;
                                    background-color: #ff6600;
                                    /* Màu nền */
                                    border: 1px solid #ff6600;
                                    /* Viền */
                                    width: 200px;
                                    /* Độ rộng */
                                    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
                                    /* Hiệu ứng bóng đổ */
                                }

                                .dropdown-item {
                                    color: #fff;
                                    /* Màu chữ */
                                    font-size: 14px;
                                    padding: 10px 20px;
                                }
                            </style>
                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown"
                                style="font-size: 19px; font-weight: bold," th:text="${session.user.hoTen}"></a>
                            <div class="dropdown-menu">
                                <a href="/courseOnline/updateAccount/{id}" class="dropdown-item">Cập nhật tài khoản</a>
                                <a href="/Admin/User" th:if="${session.admin != null}" class="dropdown-item">Admin</a>
                                <a href="/logoff" class="dropdown-item">Đăng xuất</a>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>

        </div>
    </div>
    <!-- Navbar End -->
    <div class="container-fluid page-header" style="margin-bottom: 90px;">
        <div class="container">
            <div class="d-flex flex-column justify-content-center" style="min-height: 300px">
                <h3 class="display-4 text-white text-uppercase">Khóa học</h3>
                <div class="d-inline-flex text-white">
                    <p class="m-0 text-uppercase"><a class="text-white" href="">Home</a></p>
                    <i class="fa fa-angle-double-right pt-1 px-3"></i>
                    <p class="m-0 text-uppercase">Chi tiết khóa học</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container-fluid pb-5">
        <div class="row px-xl-5">
            <div class="col-lg-5 mb-30">
                <div id="product-carousel" class="carousel slide" data-ride="carousel">
                    <div class="carousel-inner bg-light">
                        <div class="carousel-item active">
                            <img class="img-fluid"
                                style="border-radius: 0px; width: 100%; height: 100%; object-fit: cover;"
                                src="/img/{{ hoc.courseOnline.hinhAnh }}" alt="Course Thumbnail" />
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-lg-7 h-auto mb-30">
                <!-- Course Title -->
                <h3>{{ hoc.courseOnline.tenKhoaHoc }}</h3>

                <!-- Course Price -->

                <!-- Course Description -->
                <p class="mb-4">{{ hoc.courseOnline.moTa }}</p>

                <!-- Kiểm tra nếu $scope.check có tồn tại, thì hiển thị nút "Tiếp tục học" -->
                <button ng-if="check" ng-click="continueCourse(hoc.courseOnline.id)" class="btn btn-primary px-3">
                    <i class="fa fa-graduation-cap mr-1"></i> Tiếp tục học
                </button>

                <!-- Kiểm tra nếu $scope.check không tồn tại, thì hiển thị nút "Đăng ký học" -->

                <button ng-if="!check" ng-click="addCourse(hoc.courseOnline.id)" class="btn btn-primary px-3">
                    <i class="fa fa-graduation-cap mr-1"></i> Đăng ký ngay
                </button>



                <!-- Course Image -->
            </div>
        </div>
        <br>
        <div class="row px-xl-5">
            <div class="col">
                <div class="bg-light p-30">
                    <div class="nav nav-tabs mb-4">
                        <!-- Replace the tab title with your actual tab title -->
                        <a class="nav-item nav-link text-dark active" data-toggle="tab" href="#tab-pane-1">Mục lục</a>
                        <a class="nav-item nav-link text-dark " data-toggle="tab" href="#tab-pane-2">Đánh giá</a>
                        <a class="nav-item nav-link text-dark" data-toggle="tab" href="#tab-pane-3" ng-if="check">Tài
                            liệu</a>
                        <!-- Giả sử giá trị 'Đã hoàn thành' được lưu trong biến trangThai -->
                        <!-- Sử dụng AngularJS để kiểm tra và hiển thị mã HTML -->
                        <a class="nav-item nav-link text-dark" data-toggle="tab" href="#tab-pane-4"
                            ng-if="trangThai === 'Đã hoàn thành'">Chứng chỉ</a>
                    </div>
                    <div class="tab-content">
                        <style>
                            .toggle-button {
                                background: none;
                                border: none;
                                outline: none;
                                cursor: pointer;
                                padding: 0;
                                margin: 0;
                            }

                            .toggle-button i {
                                font-size: 1.5rem;
                            }

                            .chapter {
                                margin-bottom: 1rem;
                            }

                            .chapter h2 {
                                display: inline-block;
                                margin-bottom: 0;
                            }

                            .chapter-content {
                                margin-left: 1rem;
                            }

                            .chapter-content .video {
                                margin-bottom: 0.5rem;
                            }

                            .chapter-content .video:last-child {
                                margin-bottom: 0;
                            }

                            .chapter-content .video a {
                                display: block;
                                padding: 0.5rem 0;
                                color: #333;
                                text-decoration: none;
                            }

                            .chapter-container {
                                border: 1px solid #333;
                                /* Màu khung và độ dày viền */
                                padding: 10px;
                                /* Khoảng cách bên trong khung */
                                margin-bottom: 20px;
                                /* Khoảng cách giữa các khung */
                            }

                            h2 {
                                font-size: 1.5rem;
                                font-weight: bold;
                                margin-bottom: 0.5rem;
                                padding-left: 0.5rem;
                            }

                            .circle-container {
                                width: 30px;
                                /* Điều chỉnh kích thước vòng tròn */
                                height: 30px;
                                /* Điều chỉnh kích thước vòng tròn */
                                background-color: #fff;
                                /* Màu nền của vòng tròn */
                                border-radius: 50%;
                                /* Tạo vòng tròn */
                                position: absolute;
                                border-radius: 50%;
                                margin-left: 30px;
                                transform: translate(-50%, -50%);
                                /* Dịch chuyển vòng tròn để nằm ở giữa */
                                z-index: 1;
                                /* Để vòng tròn ở phía trên nội dung */
                            }
                        </style>
                        <div class="tab-pane fade show active" id="tab-pane-1">
                            <!-- Replace the course content with the actual course content -->
                            <div class="muc-luc">
                                <!-- Sử dụng Thymeleaf để lặp qua danh sách mục lục -->
                                <div class="table-of-contents">
                                    <!-- Container cho mục lục -->
                                    <div ng-repeat="mucLuc in hoc.mucLuc">
                                        <div class="circle-container">
                                            <img src="/img/folder-red-icon.svg" style="height: 100%; width: 100%;"
                                                alt="tek4">
                                        </div>
                                        <!-- Hiển thị tên mục lục từ dữ liệu JSON -->
                                        <div class="chapter-container">
                                            <h2 class="col-md-11" ng-bind="mucLuc.tenMucLuc"></h2>
                                            <button class="toggle-button col-md-1" onclick="toggleChapter(this)">
                                                <i class="fa fa-arrow-down"></i> <!-- Biểu tượng "+" -->
                                            </button>
                                            <div class="chapter-content" style="width: 100% !important;">
                                                <!-- Sử dụng ng-repeat để lặp qua danh sách video của mục lục -->
                                                <div ng-repeat="video in hoc.videoKhoaHoc" style="margin-top: 20px;">
                                                    <!-- Sử dụng ng-if để kiểm tra điều kiện -->
                                                    <div class="row" style="padding-left: 30px; "
                                                        ng-if="video.mucLuc.id === mucLuc.id">
                                                        <div style="margin-right: 10px;">
                                                            <i class="fa fa-video-camera"></i>
                                                        </div>

                                                        <span ng-bind="video.tenVideo" ng-value="video.id"
                                                            class="videoLink " ng-click="getId(video.id)"
                                                            style="padding-left: 0px; cursor: pointer; color: black;"
                                                            ng-mouseover="video.color = 'red'"
                                                            ng-mouseout="video.color = 'black'"
                                                            ng-style="{'color': video.color || 'black'}"></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <style>
                            .star-rating {
                                font-size: 24px;
                                /* Kích thước ngôi sao */
                                color: #FFD700;
                                /* Màu sắc ngôi sao */
                            }

                            /* CSS cho tab-pane */
                            .tab-pane {
                                padding: 20px;
                            }

                            /* CSS cho danh sách sao và điểm trung bình */
                            .stars {
                                font-size: 24px;
                                color: gold;
                                margin-bottom: 10px;
                            }

                            /* CSS cho đánh giá của bạn */
                            h4 {
                                font-size: 18px;
                                margin-bottom: 10px;
                            }

                            input[type="text"] {
                                width: 90%;
                                padding: 10px;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                margin-bottom: 10px;
                            }

                            .button {
                                background-color: #007bff;
                                color: white;
                                padding: 10px 20px;
                                border: none;
                                border-radius: 5px;
                                cursor: pointer;
                            }

                            .button:hover {
                                background-color: #0056b3;
                            }


                            /* CSS cho hình ảnh người dùng */
                            .img {
                                width: 50px;
                                height: 50px;
                                border-radius: 50%;
                                overflow: hidden;
                                object-fit: cover;
                                /* Để hình ảnh bằng với khung */
                                margin-right: 10px;
                            }

                            /* CSS cho ngày đăng và nút "Trả lời" */
                            p {
                                margin: 0;
                                margin-bottom: 5px;
                            }

                            /* CSS cho biểu tượng "Mở rộng" */
                            .fa-arrow-up,
                            .fa-arrow-down {
                                font-size: 20px;
                            }

                            /* CSS cho input khi hiển thị trong phần bình luận */
                            .reply-input {
                                width: 100%;
                                padding: 10px;
                                border: 1px solid #ccc;
                                border-radius: 5px;
                                margin-bottom: 10px;
                                /* Ban đầu ẩn input */
                            }

                            .inline-buttons {
                                display: inline-block;
                                /* Để các phần tử nằm kế bên nhau */
                            }

                            .reply-button {
                                margin-right: 10px;
                                /* Khoảng cách giữa các nút Trả lời và Xóa (tuỳ chỉnh) */
                            }
                        </style>
                        <div class="tab-pane fade" ng-controller="DanhGia-BinhLuan-ctrl" id="tab-pane-2">
                            <div class="stars">
                                <span ng-repeat="star in getStarsArray(averageRating) track by $index">
                                    <i class="fa fa-star" style="color: gold;"></i>
                                </span>
                                {{ averageRating }}
                            </div>
                            <hr>
                            <div>
                                <h4>Đánh giá của bạn</h4>
                                <input type="text" ng-model="noiDung" placeholder="Bình Luận">
                                <button class="button" ng-click="createDienDan()">Đăng</button>
                            </div>
                            <div ng-repeat="dienDan in DienDan" style="margin-left: 10px;">
                                <div class="row">
                                    <!-- Hiển thị thông tin diễn đàn -->
                                    <div>
                                        <img class="img" ng-if="dienDan.nguoiDang.hinhAnh"
                                            ng-src="/img/{{dienDan.nguoiDang.hinhAnh}}"
                                            style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;"
                                            alt="avatar" />
                                        <img class="img" ng-if="!dienDan.nguoiDang.hinhAnh"
                                            ng-src="/img/PolyAcademy.png"
                                            style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;"
                                            alt="old avatar" />
                                    </div>
                                    <div style="margin-top: 15px;">
                                        <strong ng-bind="dienDan.nguoiDang.hoTen"></strong>
                                        <!-- Viết hoa tên người dùng -->
                                        <p ng-bind="dienDan.tieuDe"></p>
                                        <p ng-bind="dienDan.ngayDang | date:'dd/MM/yyyy HH:mm:ss'"></p>
                                        <p ng-bind="dienDan.noiDung"></p>
                                        <div class="inline-buttons">
                                            <a class="reply-button" type="submit"
                                                ng-click="toggleReplyInput(dienDan)">Trả lời</a>
                                            <div ng-if="dienDan.nguoiDang.id === NguoiDung.id">
                                                <a class="reply-button" ng-click="deleteDienDan(dienDan)">Xóa</a>
                                            </div>
                                        </div>


                                    </div>
                                </div>
                                <hr> <!-- Đường kẻ hr dưới mỗi diễn đàn -->

                                <!-- Hiển thị bình luận cho diễn đàn này -->
                                <div ng-show="dienDan.showReplyInput" class="row">
                                    <input type="text" ng-model="form.noiDung" placeholder="Trả lời">
                                    <button class="button" style="margin-left: 10px;
                                    height: 45px;" ng-click="createBinhLuan(dienDan.id)">Đăng</button>
                                </div>
                                <!-- HTML -->
                                <div class="row">
                                    <div class="col-md-1"></div>
                                    <div class="col-md-11">
                                        <div class="row" ng-repeat="binhLuan in BinhLuan.slice(0, visibleComments)"
                                            ng-if="dienDan.id === binhLuan.baiDang.id">
                                            <div>
                                                <img class="img" ng-if="binhLuan.nguoiDang.hinhAnh"
                                                    ng-src="/img/{{binhLuan.nguoiDang.hinhAnh}}"
                                                    style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;"
                                                    alt="avatar" />
                                                <img class="img" ng-if="!binhLuan.nguoiDang.hinhAnh"
                                                    ng-src="/img/PolyAcademy.png"
                                                    style="width: 50px; height: 50px; border-radius: 50%; overflow: hidden;"
                                                    alt="old avatar" />
                                            </div>
                                            <div>
                                                <div>
                                                    <div style="margin-top: 15px;">
                                                        <strong>{{ binhLuan.nguoiBinhLuan.hoTen }}</strong>
                                                        <p ng-bind="binhLuan.ngayBinhLuan | date:'dd/MM/yyyy HH:mm:ss'">
                                                        </p>
                                                        <p ng-bind="binhLuan.noiDung"></p>
                                                        <div ng-if="binhLuan.nguoiBinhLuan.id === NguoiDung.id">
                                                            <a class="reply-button"
                                                                ng-click="deleteBinhLuan(binhLuan)">Xóa</a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <style>
                                            /* CSS */
                                            .show-more-button {
                                                background-color: #007bff;
                                                /* Màu nền */
                                                color: #fff;
                                                /* Màu văn bản */
                                                padding: 10px 15px;
                                                /* Kích thước nút */
                                                border: none;
                                                /* Loại bỏ viền nút */
                                                cursor: pointer;
                                                /* Con trỏ biến thành bàn tay khi di chuột qua nút */
                                                border-radius: 4px;
                                                /* Bo tròn góc */
                                            }

                                            .show-more-button:hover {
                                                background-color: #0056b3;
                                                /* Màu nền khi di chuột qua nút */
                                            }
                                        </style>
                                        <div ng-if="shouldShowMoreButton()">
                                            <button ng-click="showMoreComments()" class="show-more-button">Hiện thêm
                                                bình luận</button>
                                        </div>

                                    </div>
                                </div>
                            </div>

                        </div>

                        <script>
                            function toggleChapter(button) {
                                var chapterContent = button.nextElementSibling;
                                if (chapterContent.style.display === 'none' || chapterContent.style.display === '') {
                                    chapterContent.style.display = 'block';
                                    button.innerHTML = '<i class="fa fa-arrow-up"></i>'; // Biểu tượng "-"
                                } else {
                                    chapterContent.style.display = 'none';
                                    button.innerHTML = '<i class="fa fa-arrow-down"></i>'; // Biểu tượng "+"
                                }
                            }
                            // JavaScript
                            document.addEventListener("DOMContentLoaded", function () {
                                // Lấy danh sách tất cả các nút "Trả lời"
                                var replyButtons = document.querySelectorAll("button.reply-button");

                                // Gán sự kiện click cho mỗi nút "Trả lời"
                                replyButtons.forEach(function (button) {
                                    button.addEventListener("click", function () {
                                        // Tìm input ứng với nút "Trả lời" được bấm và hiển thị nó
                                        var replyInput = this.parentElement.nextElementSibling.querySelector(".reply-input");
                                        if (replyInput.style.display === 'none' || replyInput.style.display === '') {
                                            replyInput.style.display = 'block';
                                        } else {
                                            replyInput.style.display = 'none';
                                        }
                                    });
                                });
                            });


                        </script>

                        <!-- Add content for additional tabs here -->
                        <div class="tab-pane fade" id="tab-pane-3">
                            <!-- Replace the course content with the actual course content -->
                            <div ng-repeat="taiLieu in tailieu">
                                <ul>
                                    <li>{{ taiLieu.tenSlide }} <a href="#"
                                            ng-click="downloadPDF(taiLieu.tenFile, taiLieu.tenSlide)">Tải file PDF</a>
                                    </li>
                                </ul>
                            </div>


                        </div>
                        <style>
                            .certificate-frame {
                                margin: 20px;
                                display: flex;
                                justify-content: center;
                                align-items: center;
                            }

                            .certificate-container {
                                border: 8px solid #e1b531;
                                padding: 60px;
                                border-radius: 30px;
                                background-color: #f8f9fa;
                                box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
                                width: 600px;
                            }

                            .header {
                                display: flex;
                                align-items: center;
                                justify-content: space-between;
                                margin-bottom: 40px;
                            }

                            .logo {
                                max-width: 120px;
                                margin-right: 20px;
                            }

                            .school-name {
                                font-size: 32px;
                                color: #f8a602;
                                margin: 0;
                            }

                            .certificate-details {
                                color: #333;
                            }

                            .certificate-title {
                                font-size: 28px;
                                margin-bottom: 30px;
                            }

                            .details {
                                text-align: left;
                                font-size: 20px;
                                line-height: 1.6;
                            }

                            .signature {
                                margin-top: 40px;
                                display: flex;
                                align-items: center;
                            }

                            .signature p {
                                margin-right: 20px;
                                font-size: 20px;
                            }

                            .signature-image {
                                max-width: 150px;
                            }
                        </style>
                        <!-- Thêm thư viện QRious -->
                        <div class="tab-pane fade" id="tab-pane-4">
                            <!-- Nút để tải về PDF -->
                            <button onclick="printToPDF()">Tải về PDF</button>

                            <!-- Đoạn mã HTML bạn muốn chuyển đổi thành PDF -->
                            <div id="certificateContent">
                                <div class="certificate-frame" ng-repeat="chungChi in chungChiList">
                                    <div class="certificate-container">
                                        <div class="header">
                                            <!-- Đưa hình ảnh logo và mã QR vào cùng hàng -->
                                            <div class="logo-qr-container">
                                                <div class="qr-code-container">
                                                    <canvas id="qrCanvas" width="200" height="200"></canvas>
                                                </div>
                                            </div>
                                            <h2 class="school-name">PolyAcademy</h2>
                                        </div>
                                        <div class="certificate-details">
                                            <h3 class="certificate-title">Chứng nhận học</h3>
                                            <div class="details">
                                                <p class="info">Tên chứng nhận: {{chungChi.khoaHoc.tenKhoaHoc}}</p>
                                                <p class="info">Người nhận: {{chungChi.nguoiDung.hoTen}}</p>
                                                <p class="info">Ngày hoàn thành: {{chungChi.ngayCapFormatted}}</p>
                                                <input id="certificateIdInput" type="text" ng-model="chungChi.id"
                                                    ng-init="setCertificateId(chungChi.id)" hidden>
                                                <!-- Các thông tin khác liên quan đến chứng chỉ học -->
                                            </div>
                                        </div>
                                    </div>
                                    <script>
                                        function generateAndInsertQRCode(content) {
                                            const qr = new QRious({
                                                element: document.getElementById('qrCanvas'),
                                                value: content,
                                                size: 200
                                            });
                                        }

                                        // Hàm mã hóa Base64
                                        function encodeToBase64(input) {
                                            return btoa(unescape(encodeURIComponent(input)));
                                        }

                                        // Hàm sẽ được gọi khi trang web được tải lên
                                        window.onload = function () {
                                            setTimeout(function () {
                                                // Lấy giá trị từ trường input chứa ID của chứng chỉ
                                                const certificateId = document.getElementById('certificateIdInput').value;

                                                // Đảm bảo rằng certificateId có giá trị trước khi sử dụng nó
                                                if (certificateId) {
                                                    // Mã hóa ID bằng Base64
                                                    const encodedCertificateId = encodeToBase64(certificateId);
                                                    const currentURL = window.location.origin;
                                                    const url = `${currentURL}/courseOnline/chungchi/${encodedCertificateId}`;

                                                    generateAndInsertQRCode(url); // Gọi hàm để tạo và chèn mã QR vào HTML
                                                } else {
                                                    console.error('Certificate ID is missing.'); // Hiển thị thông báo lỗi nếu không có ID
                                                }
                                            }, 1000); // 1000 milliseconds = 1 giây
                                        };



                                        function printToPDF() {
                                            const element = document.getElementById('certificateContent');

                                            const options = {
                                                margin: 10,
                                                filename: 'chung_chi.pdf',
                                                image: { type: 'jpeg', quality: 0.98 },
                                                html2canvas: { scale: 2 },
                                                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
                                            };

                                            html2pdf().from(element).set(options).save();
                                        }

                                    </script>
                                </div>
                            </div>
                            <!-- Script JavaScript -->
                        </div>

                        <style>
                            .logo-qr-container {
                                display: flex;
                                align-items: center;
                            }

                            .logo {
                                width: 100px;
                                /* Thay đổi kích thước hình ảnh logo tùy thuộc vào kích thước mong muốn */
                                height: auto;
                                margin-right: 20px;
                                /* Khoảng cách giữa hình ảnh logo và mã QR */
                            }

                            .qr-code-container {
                                width: 200px;
                                /* Kích thước mã QR */
                                height: 200px;
                            }
                        </style>


                    </div>
                </div>


                <!-- Footer End -->
            </div>
        </div>

    </div>
    <!-- Shop Detail Start -->
    <div class="container-fluid bg-dark text-white py-5 px-sm-3 px-lg-5" style="margin-top: 90px;">
        <div class="row pt-5">
            <div class="col-lg-7 col-md-12">
                <div class="row">
                    <div class="col-md-6 mb-5">
                        <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">Get In
                            Touch
                        </h5>
                        <p><i class="fa fa-map-marker-alt mr-2"></i>123 Street, New York, USA</p>
                        <p><i class="fa fa-phone-alt mr-2"></i>+012 345 67890</p>
                        <p><i class="fa fa-envelope mr-2"></i>info@example.com</p>
                        <div class="d-flex justify-content-start mt-4">
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i class="fab fa-twitter"></i></a>
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i
                                    class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-outline-light btn-square mr-2" href="#"><i
                                    class="fab fa-linkedin-in"></i></a>
                            <a class="btn btn-outline-light btn-square" href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                    <div class="col-md-6 mb-5">
                        <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">Our
                            Courses
                        </h5>
                        <div class="d-flex flex-column justify-content-start">
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Web
                                Design</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Apps
                                Design</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Marketing</a>
                            <a class="text-white mb-2" href="#"><i class="fa fa-angle-right mr-2"></i>Research</a>
                            <a class="text-white" href="#"><i class="fa fa-angle-right mr-2"></i>SEO</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-5 col-md-12 mb-5">
                <h5 class="text-primary text-uppercase mb-4" style="letter-spacing: 5px;">Newsletter</h5>
                <p>Rebum labore lorem dolores kasd est, et ipsum amet et at kasd, ipsum sea tempor magna
                    tempor.
                    Accu kasd sed ea duo ipsum. Dolor duo eirmod sea justo no lorem est diam</p>
                <div class="w-100">
                    <div class="input-group">
                        <input type="text" class="form-control border-light" style="padding: 30px;"
                            placeholder="Your Email Address">
                        <div class="input-group-append">
                            <button class="btn btn-primary px-4">Sign Up</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="container-fluid bg-dark text-white border-top py-4 px-sm-3 px-md-5"
        style="border-color: rgba(256, 256, 256, .1) !important;">
        <div class="row">
            <div class="col-lg-6 text-center text-md-left mb-3 mb-md-0">
                <p class="m-0 text-white">&copy; <a href="#">Domain Name</a>. All Rights Reserved. Designed
                    by
                    <a href="https://htmlcodex.com">HTML Codex</a>
                </p>
            </div>
            <div class="col-lg-6 text-center text-md-right">
                <ul class="nav d-inline-flex">
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Privacy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Terms</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">FAQs</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link text-white py-0" href="#">Contact</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <!-- Back to Top Button -->
    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <!-- Thư viện jsPDF -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.debug.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.min.js"></script>

    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
    <script src="/lib/easing/easing.min.js"></script>
    <script src="/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>

    <!-- Customized Bootstrap Scripts -->
    <script th:src="@{/js/main.js}"></script>
    <script th:src="@{/js/hoc.js}"></script>
    <script th:src="@{/js/DanhGia-BinhLuan-ctrl.js}"></script>

</body>

</html>